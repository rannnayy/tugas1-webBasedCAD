<!DOCTYPE html5>
    <head>
        <meta charset="utf-8" />
        <link rel="icon" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="./WebGL_Logo.png" />
        <link rel="stylesheet" href="global.css">
        <script src="https://webgl2fundamentals.org/webgl/resources/webgl-utils.js"></script>
        <script id="vertex-shader-2d" type="notjs">
            attribute vec2 a_position;
            attribute vec4 a_color;

            uniform vec2 u_rotation;
            uniform vec2 u_translation;
            uniform vec2 u_scale;
            uniform vec2 u_pivot;

            varying vec4 v_color;

            void main() {
                vec2 scaledPosition = a_position * u_scale;

                vec2 rotatedPosition = vec2(
                    u_pivot.x + (scaledPosition.x - u_pivot.x ) * u_rotation.y + (scaledPosition.y - u_pivot.y) * u_rotation.x,
                    u_pivot.y + (scaledPosition.y - u_pivot.y) * u_rotation.y - (scaledPosition.x - u_pivot.x) * u_rotation.x);

                vec2 position = rotatedPosition + u_translation;
                
                gl_Position = vec4(position, 0 , 1);

                v_color = a_color;
            }
        </script>
            
        <script id="fragment-shader-2d" type="notjs">
            precision mediump float;

            varying vec4 v_color;
            
            void main() {
                gl_FragColor = v_color;
            } 
        </script>
        <title>2D Web Based CAD</title>
    </head>
    <body>
        <div class="wrapper">
            <div class="dep">
                Struktur file
                <textarea disabled id="modelActive"></textarea>
                <div id="model-structure">
                    
                </div>
                
            </div>
            <canvas id="gl-canvas">
            </canvas>
            <div class="opt">
                <div>Option buttons</div>
                <button id="poligon-strip">Poligon STRIP</button>
                <button id="poligon-fan">Poligon FAN</button>

                <div>
                    <label>Color</label> 
                    <input id="color" type="color">
                </div>

                <div>
                    <div>Translasi</div>
                    <div>
                        <label for="slider-x">x</label>
                        <input type="range" name="slider-x" id="slider-x" min="-2" max="2" step="any">
                    </div>
                    <div>
                        <label for="slider-y">y</label>
                        <input type="range" name="slider-y" id="slider-y" min="-2" max="2" step="any">
                    </div>
                </div>

                <div>
                    <br>
                    <div>Rotasi</div>
                    <div>
                        <label for="rotasi">Angle</label>
                        <input type="range" name="rotasi" id="rotasi" min="0" max="360" step="any" >
                    </div>
                </div>
                <div>
                    <br>
                    <div>Scale</div>
                    <label for="scale-x">x</label>
                    <input type="range" name="scale-x" id="scale-x" min="-3" max="3" step="any" value = "1">
                </div>
                <div>
                    <label for="scale-y">y</label>
                    <input type="range" name="scale-y" id="scale-y" min="-3" max="3" step="any" value = "1">
                </div>
                <div>
                    <br>
                    <button id="delete_point">Delete Point</button>
                    <br>
                    <label>Point Color</label> 
                    <input id="point_color" type="color">
                    <br>
                    <br>
                    <label for="">Move Point</label>
                    <div>
                        <label for="">x</label>
                        <input type="range" name="slider-point-x" id="slider-point-x" min="-2" max="2" step="any">
                    </div>
                    <div>
                        <label for="">y</label>
                        <input type="range" name="slider-point-y" id="slider-point-y" min="-2" max="2" step="any">
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script src="./scripts.js"></script>
</html>